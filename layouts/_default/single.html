{{ define "main" }}
    {{ $lastmodstr := (partial "date.html" (dict "date" .Lastmod "language" $.Page.Language "format" "long")) }}
    {{ $datestr := (partial "date.html" (dict "date" .Date "language" $.Page.Language "format" "long")) }}
    
    <div class="row row-cols-1 row-cols-sm-3 align-items-center p-5">
        <div class="col col-md-2 d-none d-md-block"></div>
        <div class="col col-sm-12 col-md-8">
            <h1>{{ .Title }}</h1>
            <small class="text-muted text-uppercase">
                {{ $datestr | i18n "postedOnDate" }}
                {{ if ne $datestr $lastmodstr }}
                &nbsp{{ $lastmodstr | i18n "lastModified" }}
                {{ else }}
                &nbsp;&bull;&nbsp;
                {{ end }}
                {{ i18n "readingTime"}}{{ .ReadingTime }}&nbsp;{{ i18n "minutesShort" }} {{ i18n "read" }}
                &nbsp;&bull;
                {{ .WordCount }}&nbsp;{{ i18n "words" }}
            </small>
        </div>
        <div class="col col-md-2 d-none d-md-block"></div>
    </div>    

    {{ if .Params.thumbnail }}
        <div class="row row-cols-1 row-cols-sm-3 align-items-center p-5">
            <div class="col col-md-2 d-none d-md-block"></div>
            <div class="col col-sm-12 col-md-8">
                <div class="ratio ratio-21x9 img-wrap">
                    <img class="rounded" src="{{ .Params.thumbnail }}" alt="{{ .Title }}" />
                </div>
            </div>
            <div class="col col-md-2 d-none d-md-block"></div>
        </div>    
    {{ end }}
    
    <div class="row row-cols-1 row-cols-sm-2 p-5">
        <div class="col col-md-2 d-none d-md-block"></div>
        <div class="col col-sm-12 col-md-8">
            {{ .Content }}
            <div class="row row-cols-2 mt-5">
                <div class="col">
                    {{ with .NextInSection }}
                        <a class="next" href="{{ .Permalink }}"><i class="fas fa-arrow-left"></i> {{ .Title }}</a>
                    {{ end }}
                </div>
                <div class="col text-end">
                    {{ with .PrevInSection }}
                        <a class="previous" href="{{ .Permalink }}">{{ .Title }} <i class="fas fa-arrow-right"></i></a>
                    {{ end }}
                </div>
            </div>
        </div>
        <div class="col col-md-2 d-none d-md-block">
            {{ partial "toc.html" . }}
        </div>
    </div>

    {{- if and .Site.Params.comments.enabled .Params.showComments | default true -}}
        <div class="row row-cols-1 row-cols-sm-2 p-5">
            <div class="col col-md-2 d-none d-md-block"></div>
            <div class="col col-sm-12 col-md-8">
                <hr>
                {{ partial "comments.html" . }}
            </div>
            <div class="col col-md-2 d-none d-md-block">
            </div>
        </div>
    {{ end }}

{{ end }}